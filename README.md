# README #

This is a collection of powershell and python scripts to make make AWS/FIleMaker Server devOps a little less painful. These tools are intended to help with the following problems:

* installing letencrypt SSL certificates via WACS
* encrypting FileMaker admin username and password so that we can use various powershell scripts to run as admin without storing sensitive info in cleartext
* dynamically register new IP address with AWS Route53 when the server restarts/reboots
* running S3 sync to backup FileMaker backups and container data

## HOW-TO ##

### WACS Tools ###

ACME is a program that manages LetsEncrypt certificates on windows like certbot on Linux. Get ACMEv2 for Windows from <https://github.com/PKISharp/win-acme/releases/tag/v2.0.10.> If you haven't already, download and install it; you may need .NET frameworks installed too. You will probably need to restart the EC2 Windows server.

#### Scripts ####

SaveFMSCredentials.ps1

* Saves filemaker server admin credentials to an encrypted credentials store file in the FileMaker cstore folder (or whichever is specified) so that InstallSSL knows where to look for it.

InstallSSL.ps1

* InstallSSL is a powershell script that imports LetsEncrypt certificates generated by win-acme into FileMaker Server 16 and later.



### Route53 ###

#### Scripts ####

In Progesss

* Updates Route53 DNS
* RefreshR53.ps1
* UpsertR53.ps1

##### Requirements #####

* set up an AWS IAM user
* download Windows AWS Tools
* download Windows AWS CLI Tools
  
##### Configuration #####
